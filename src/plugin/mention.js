const _0x4000c0=_0x2378;(function(_0x2c8d11,_0x507dfb){const _0x36670f=_0x2378,_0x806cd=_0x2c8d11();while(!![]){try{const _0x36dc0f=-parseInt(_0x36670f(0x11b))/(-0x1*0x2582+-0xb3*-0x25+-0x254*-0x5)+parseInt(_0x36670f(0x11f))/(-0xbcb+0x1f*0xf5+0x2*-0x8ef)*(parseInt(_0x36670f(0xf9))/(0x27*-0x77+0xb35+0x6ef))+-parseInt(_0x36670f(0x13c))/(0x67d+0x1*0x5d1+-0xc4a)*(-parseInt(_0x36670f(0xfe))/(-0x1571*-0x1+-0x20b9*0x1+-0x1*-0xb4d))+-parseInt(_0x36670f(0x124))/(0x1*-0x1fb9+-0x1514+0x34d3)*(-parseInt(_0x36670f(0x12a))/(-0x1ea6+-0x1064+0x2f11))+parseInt(_0x36670f(0x12e))/(-0x51a+0x1652+-0x1130)+-parseInt(_0x36670f(0x135))/(-0x4cf+-0xc*-0xe9+-0x2*0x30a)*(parseInt(_0x36670f(0x111))/(0x2*0x18e+0x29*0xd6+-0x2558))+parseInt(_0x36670f(0x14f))/(-0x200+-0x20c3+0x16*0x195)*(parseInt(_0x36670f(0x141))/(-0x4*-0x65+0xdc8+-0xf50));if(_0x36dc0f===_0x507dfb)break;else _0x806cd['push'](_0x806cd['shift']());}catch(_0x462af7){_0x806cd['push'](_0x806cd['shift']());}}}(_0x2ec1,0x67d73+-0x164179+-0x1*-0x1bf358));import{promises as _0x5b228d}from'fs';import _0x2fe5aa from'path';import _0x2cb75 from'node-fetch';import _0x49ae57 from'../../config.cjs';import _0x3c4f56 from'@whiskeysockets/baileys';const {generateWAMessageFromContent,proto}=_0x3c4f56,__filename=new URL(import.meta[_0x4000c0(0x108)])[_0x4000c0(0xf8)],__dirname=_0x2fe5aa[_0x4000c0(0x127)](__filename),chatHistoryFile=_0x2fe5aa[_0x4000c0(0x105)](__dirname,_0x4000c0(0x131)+_0x4000c0(0x133)),mistralSystemPrompt=_0x4000c0(0x10a)+_0x4000c0(0x132)+_0x4000c0(0x145)+_0x4000c0(0x144)+_0x4000c0(0x12b)+_0x4000c0(0x151)+_0x4000c0(0x150)+_0x4000c0(0x149)+_0x4000c0(0x104)+_0x4000c0(0x15b)+_0x4000c0(0x10b)+'e.';async function readChatHistoryFromFile(){const _0x4c1643=_0x4000c0,_0x1be5b2={'hfCHS':_0x4c1643(0x102)};try{const _0x40706d=await _0x5b228d[_0x4c1643(0x11a)](chatHistoryFile,_0x1be5b2[_0x4c1643(0x143)]);return JSON[_0x4c1643(0xf7)](_0x40706d);}catch(_0x30eb48){return{};}}async function writeChatHistoryToFile(_0x2207cb){const _0x4014ef=_0x4000c0,_0x592550={'jeAcp':_0x4014ef(0x100)+_0x4014ef(0xf4)+_0x4014ef(0x13d)+_0x4014ef(0x15a)};try{await _0x5b228d[_0x4014ef(0x159)](chatHistoryFile,JSON[_0x4014ef(0xfa)](_0x2207cb,null,-0x1*-0x1ed+0x2*0xad+0x1f*-0x1b));}catch(_0x380eba){console[_0x4014ef(0x10f)](_0x592550[_0x4014ef(0x120)],_0x380eba);}}async function updateChatHistory(_0x2b5d4b,_0xb22ab8,_0x467ad4){const _0x530b99=_0x4000c0,_0x901adb={'MLalL':function(_0x3358d0,_0x1345c3){return _0x3358d0>_0x1345c3;},'FAVpk':function(_0x3810b5,_0x39ce43){return _0x3810b5(_0x39ce43);}};!_0x2b5d4b[_0xb22ab8]&&(_0x2b5d4b[_0xb22ab8]=[]),_0x2b5d4b[_0xb22ab8][_0x530b99(0x10e)](_0x467ad4),_0x901adb[_0x530b99(0x110)](_0x2b5d4b[_0xb22ab8][_0x530b99(0x154)],0x1*0x1ae3+0x2258+-0x1*0x3d27)&&_0x2b5d4b[_0xb22ab8][_0x530b99(0x107)](),await _0x901adb[_0x530b99(0x101)](writeChatHistoryToFile,_0x2b5d4b);}async function deleteChatHistory(_0x340c59,_0xb97630){const _0x2a6abf=_0x4000c0,_0x34ad5d={'riomv':function(_0x33b2e8,_0x7e8cc1){return _0x33b2e8(_0x7e8cc1);}};delete _0x340c59[_0xb97630],await _0x34ad5d[_0x2a6abf(0x136)](writeChatHistoryToFile,_0x340c59);}const mistral=async(_0x5871f1,_0x292bb6)=>{const _0xaf005=_0x4000c0,_0x1ad130={'PNIcQ':function(_0x47eb97){return _0x47eb97();},'meDyu':function(_0x5118ff,_0x5256d3){return _0x5118ff===_0x5256d3;},'XriNG':_0xaf005(0x103),'rTBMK':function(_0x231bea,_0xb80d95,_0x8a6c27){return _0x231bea(_0xb80d95,_0x8a6c27);},'OdzMp':_0xaf005(0x14d)+_0xaf005(0x11e)+_0xaf005(0x11c)+_0xaf005(0x10d),'mSFqX':_0xaf005(0x115)+_0xaf005(0x160)+_0xaf005(0x12f)+_0xaf005(0x15d)+_0xaf005(0x128),'wfMHB':_0xaf005(0x119),'szEdp':_0xaf005(0x158),'HqFCZ':function(_0x57691d,_0xbe6dda,_0x2bedfd){return _0x57691d(_0xbe6dda,_0x2bedfd);},'GNdJV':_0xaf005(0x139)+_0xaf005(0xf6)+_0xaf005(0xf3)+'i','IoDNf':_0xaf005(0x14c),'ehitE':_0xaf005(0x118)+_0xaf005(0x148),'BZuzC':_0xaf005(0x13f)+_0xaf005(0x134),'Bkoqi':_0xaf005(0x15f)+_0xaf005(0x13e)+_0xaf005(0xf2)+_0xaf005(0x155),'ZlOTf':function(_0x5829c9,_0x247087,_0x3b069d,_0x191836){return _0x5829c9(_0x247087,_0x3b069d,_0x191836);},'YmnEj':function(_0xd40c29,_0x5e8f7d,_0x36121c,_0x324a9b){return _0xd40c29(_0x5e8f7d,_0x36121c,_0x324a9b);},'sgWfZ':_0xaf005(0x113),'xsbxh':_0xaf005(0x157)+_0xaf005(0x15e),'MwiGt':_0xaf005(0x12d)},_0x24162d=await _0x1ad130[_0xaf005(0xf5)](readChatHistoryFromFile),_0x5d9659=await _0x292bb6[_0xaf005(0x116)](_0x292bb6[_0xaf005(0x158)]['id'])[_0xaf005(0x121)]('@')[0xe3f+-0x111e+0x69*0x7],_0x3b9c6c=_0x49ae57[_0xaf005(0x137)+'ER'],_0x2120c1=_0x5871f1[_0xaf005(0x140)][_0xaf005(0xfb)]('@'+_0x5d9659)||_0x5871f1[_0xaf005(0x140)][_0xaf005(0xfb)]('@'+_0x3b9c6c);if(_0x1ad130[_0xaf005(0xfc)](_0x5871f1[_0xaf005(0x140)][_0xaf005(0x109)+'e'](),_0x1ad130[_0xaf005(0x153)])){await _0x1ad130[_0xaf005(0x112)](deleteChatHistory,_0x24162d,_0x5871f1[_0xaf005(0x123)]),await _0x292bb6[_0xaf005(0x15c)+'e'](_0x5871f1[_0xaf005(0x14a)],{'text':_0x1ad130[_0xaf005(0xf1)]},{'quoted':_0x5871f1});return;}if(_0x2120c1){const _0x5ba559=_0x5871f1[_0xaf005(0x140)][_0xaf005(0x114)]();if(_0x1ad130[_0xaf005(0xfc)](_0x5ba559,'@'+_0x5d9659)||_0x1ad130[_0xaf005(0xfc)](_0x5ba559,'@'+_0x3b9c6c)){await _0x292bb6[_0xaf005(0x15c)+'e'](_0x5871f1[_0xaf005(0x14a)],{'audio':{'url':_0x1ad130[_0xaf005(0x106)]}},{'quoted':_0x5871f1});return;}const _0x1ee3ed=_0x5ba559[_0xaf005(0x14e)]('@'+_0x5d9659,'')[_0xaf005(0x14e)]('@'+_0x3b9c6c,'')[_0xaf005(0x114)]();if(_0x1ee3ed)try{const _0x4529aa=_0x24162d[_0x5871f1[_0xaf005(0x123)]]||[],_0x167be2=[{'role':_0x1ad130[_0xaf005(0x152)],'content':mistralSystemPrompt},..._0x4529aa,{'role':_0x1ad130[_0xaf005(0x12c)],'content':_0x1ee3ed}];await _0x5871f1[_0xaf005(0x142)]('⏳');const _0x4684c8=await _0x1ad130[_0xaf005(0x11d)](_0x2cb75,_0x1ad130[_0xaf005(0x14b)],{'method':_0x1ad130[_0xaf005(0x126)],'headers':{'Content-Type':_0x1ad130[_0xaf005(0x122)]},'body':JSON[_0xaf005(0xfa)]({'type':_0x1ad130[_0xaf005(0x117)],'model':_0x1ad130[_0xaf005(0xfd)],'messages':_0x167be2})});if(!_0x4684c8['ok'])throw new Error(_0xaf005(0x156)+_0xaf005(0x10c)+_0x4684c8[_0xaf005(0x130)]);const _0x313ebe=await _0x4684c8[_0xaf005(0x13a)]();await _0x1ad130[_0xaf005(0x138)](updateChatHistory,_0x24162d,_0x5871f1[_0xaf005(0x123)],{'role':_0x1ad130[_0xaf005(0x12c)],'content':_0x1ee3ed}),await _0x1ad130[_0xaf005(0x146)](updateChatHistory,_0x24162d,_0x5871f1[_0xaf005(0x123)],{'role':_0x1ad130[_0xaf005(0x13b)],'content':_0x313ebe[_0xaf005(0x129)][_0xaf005(0x125)]});const _0x355752=_0x313ebe[_0xaf005(0x129)][_0xaf005(0x125)];await _0x292bb6[_0xaf005(0x15c)+'e'](_0x5871f1[_0xaf005(0x14a)],{'text':_0x355752},{'quoted':_0x5871f1}),await _0x5871f1[_0xaf005(0x142)]('✅');}catch(_0x1ab640){await _0x292bb6[_0xaf005(0x15c)+'e'](_0x5871f1[_0xaf005(0x14a)],{'text':_0x1ad130[_0xaf005(0x147)]},{'quoted':_0x5871f1}),console[_0xaf005(0x10f)](_0x1ad130[_0xaf005(0xff)],_0x1ab640),await _0x5871f1[_0xaf005(0x142)]('❌');}}};function _0x2378(_0x4cf79a,_0x516b76){const _0x1b7735=_0x2ec1();return _0x2378=function(_0x2c266f,_0x348714){_0x2c266f=_0x2c266f-(0x50f+0x21ee+-0x79c*0x5);let _0x3e56e0=_0x1b7735[_0x2c266f];return _0x3e56e0;},_0x2378(_0x4cf79a,_0x516b76);}export default mistral;function _0x2ec1(){const _0x461dc4=['ZlOTf','https://ma','json','sgWfZ','4228472qtIzEX','istory\x20to\x20','ama/meta-l','text-gener','body','348492xnlESY','React','hfCHS','t\x20bot.\x20Som','intelligen','YmnEj','xsbxh','n/json','pond\x20with\x20','from','GNdJV','POST','Conversati','replace','11WPuiqT','owner.\x20Res','oned\x20your\x20','wfMHB','XriNG','length','instruct','HTTP\x20error','Something\x20','user','writeFile','file:','d\x20friendly','sendMessag','0379485062','went\x20wrong','hf/meta-ll','legra.ph/f','OdzMp','lama-3-8b-','tech/api/a','ing\x20chat\x20h','PNIcQ','trixcoder.','parse','pathname','141YxnbdS','stringify','startsWith','meDyu','Bkoqi','5hvUFEM','MwiGt','Error\x20writ','FAVpk','utf-8','/forget','helpful\x20an','resolve','mSFqX','shift','url','toLowerCas','You\x20are\x20Ma','\x20assistanc','!\x20status:\x20','lly','push','error','MLalL','10crRHct','rTBMK','assistant','trim','https://te','decodeJid','BZuzC','applicatio','system','readFile','2228yeWRju','\x20successfu','HqFCZ','on\x20deleted','20234msyJws','jeAcp','split','ehitE','sender','6NKLXGL','response','IoDNf','dirname','7fbdd.mp4','result','3061541WzlwPP','eone\x20menti','szEdp','Error:\x20','2895920ZJfteD','ile/2d7425','status','../tag_his','nu-MD,\x20an\x20','tory.json','ation','14042133IISMix','riomv','OWNER_NUMB'];_0x2ec1=function(){return _0x461dc4;};return _0x2ec1();}